---
layout: default
---

{% comment %} PDF.js scripts and styles are loaded here so they wrap {{ content }} {% endcomment %}
<script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
<script>
  // PDF.js worker src from CDN
  pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js';
</script>

<style>
.resume-container { max-width: 900px; margin: 2rem auto; }
.pdf-controls { display: flex; align-items: center; justify-content: center; padding: 1rem; background: var(--card-bg); border-radius: 8px; opacity: 0.7; transition: opacity 0.2s ease; }
.pdf-controls:hover { opacity: 1; }
.pdf-viewer { text-align: center; background: var(--card-bg); border-radius: 8px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.10); }
#pdf-canvas { border: 1px solid var(--border-color); border-radius: 4px; max-width: 100%; height: auto; }
.btn-download { background-color: #a259f7; border-color: #a259f7; color: white; padding: 0.5rem 1rem; font-weight: 500; border-radius: 6px; text-decoration: none; transition: all 0.2s ease; }
.btn-download:hover { background-color: #7c3aed; border-color: #7c3aed; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(162,89,247,0.3); }
@media (max-width: 768px) { .pdf-controls { flex-direction: column; gap: 1rem; } .pdf-viewer { padding: 1rem; } }
</style>

<main class="container resume-container">
  <h1 class="page-title">{{ page.title }}</h1>
  {{ content }}
</main>

<script>
  // Initialize PDF rendering on page load
  document.addEventListener('DOMContentLoaded', function() {
    let pdfDoc = null;
    let pageNum = 1;
    let pageRendering = false;
    let pageNumPending = null;
    const scale = 1.5;
    const canvas = document.getElementById('pdf-canvas');
    const ctx = canvas.getContext('2d');

    const pdfPath = "{{ site.url }}{{ site.baseurl }}/assets/files/resume.pdf";
    pdfjsLib.getDocument(pdfPath).promise.then(function(pdf) {
      pdfDoc = pdf;
      document.getElementById('page-info').textContent = `Page ${pageNum} of ${pdfDoc.numPages}`;
      if (pdfDoc.numPages > 1) {
        document.getElementById('prev-page').style.display = 'inline-block';
        document.getElementById('next-page').style.display = 'inline-block';
      }
      renderPage(pageNum);
    }).catch(function(error) {
      console.error('Error loading PDF:', error);
      document.getElementById('pdf-viewer').innerHTML = '<p>PDF could not be loaded. <a href="' + pdfPath + '" target="_blank">Click here to view PDF</a></p>';
    });

    function renderPage(num) {
      pageRendering = true;
      pdfDoc.getPage(num).then(function(page) {
        const viewport = page.getViewport({ scale: scale });
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        const renderTask = page.render({ canvasContext: ctx, viewport: viewport });
        renderTask.promise.then(function() {
          pageRendering = false;
          if (pageNumPending !== null) { renderPage(pageNumPending); pageNumPending = null; }
        });
      });
      document.getElementById('page-info').textContent = `Page ${num} of ${pdfDoc.numPages}`;
    }
    function queueRenderPage(num) { pageRendering ? pageNumPending = num : renderPage(num); }
    document.getElementById('prev-page').addEventListener('click', function() { if (pageNum>1) queueRenderPage(--pageNum); });
    document.getElementById('next-page').addEventListener('click', function() { if (pageNum<pdfDoc.numPages) queueRenderPage(++pageNum); });
  });
</script>
